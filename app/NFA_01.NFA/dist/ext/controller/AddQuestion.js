sap.ui.define(["sap/m/MessageToast","sap/m/Column"],function(e,t){"use strict";return{AddQuestion:function(n){debugger;if(!this.event_id){this.event_id=n.sPath.replace(/[^0-9]/g,"");this.event_id="Doc"+this.event_id}this.oDialog=new sap.m.Dialog({title:"Add Question",contentWidth:"600px",contentHeight:"500px",resizable:true,draggable:true,beginButton:new sap.m.Button({text:"Add Question",type:"Emphasized",icon:"sap-icon://add",press:function(){debugger;var n=this.oDialog.getContent()[0];var a=n.getItems();var i=[];let s=false;var o={};a.forEach(function(t){var n=t.getValue();var a=t.getPlaceholder();if(n==""||n==null||n==undefined){e.show("Please fill in every entry");s=true}o[a]=n;i.push(new sap.m.Text({text:n}))});if(s){return}var l=new sap.m.BusyDialog;l.open();let d=this.byId("fe::table::questionaire::LineItem::Questions::Table");let u=d.getContent().mAggregations._content;const r=this;var g="https://nfa_app-grateful-duiker-kc.cfapps.us20.hana.ondemand.com/dev/postQuestion?event_id="+this.event_id;var c="https://nfa_app-grateful-duiker-kc.cfapps.us20.hana.ondemand.com/dev/GetSupplierBidsv1?event_id=$"+this.event_id;$.ajax({type:"POST",url:g,data:JSON.stringify(o),contentType:"application/json",dataType:"json",success:function(e){debugger;$.ajax({type:"GET",url:c,success:function(e){debugger;let n=r.byId("fe::table::questionaire::LineItem::Questions::Table");let a=n.getContent().mAggregations._content;let i=[];let s=["Itemname","Description","Quantity","Unit"];let o=e?.data?.items?.bidding_data;e?.data?.items?.bidding_data.forEach(e=>{let n=Object.keys(e);let o=Object.values(e);s.forEach(e=>{if(!i.includes(e)){var n=new t({header:new sap.m.Label({text:e})});a.addColumn(n);i.push(e)}});n.forEach(e=>{if(!i.includes(e)){var n=new t({header:new sap.m.Label({text:e})});a.addColumn(n);i.push(e)}});if(!i.includes("Edit/Delete")){var l=new t({header:new sap.m.Label({text:"Edit/Delete"}),visible:false});a.addColumn(l);i.push("Edit/Delete")}});let d=[];let u;let g;let c;if(o!=undefined){for(let e=0;e<o.length;e++){for(let t=0;t<s.length;t++){c=new sap.m.Text({text:o[e][s[t]]});d.push(c);delete o[e][s[t]]}g=Object.values(o[e]);g.forEach(e=>{c=new sap.m.Text({text:e});d.push(c)});u=new ColumnListItem({cells:d});a.addItem(u);d=[];debugger}}l.close()},error:function(e){l.close()}})},error:function(e){l.close()}});debugger;let p=this.byId("fe::table::questionaire::LineItem::Questions::Table");let h=p.getContent().mAggregations._content;var m=new sap.m.ColumnListItem({cells:i});e.show("Question Added");h.getColumns()[h.getColumns().length-1].setVisible(true);h.addItem(m);function f(){debugger;location.reload()}f();e.show("Questions Added");this.oDialog.close()}.bind(this)}),endButton:new sap.m.Button({text:"Cancel",type:"Negative",press:function(){this.oDialog.close()}.bind(this)}),afterClose:function(){var e=this.oDialog.getContent()[0];var t=e.getItems();t.forEach(function(e){if(e instanceof sap.m.Input){e.setValue("")}})}.bind(this)});this.oDialog.addStyleClass("myCustomDialog");let a=this.byId("fe::table::questionaire::LineItem::Questions::Table");let i=a.getContent().mAggregations._content;var s=i.getColumns();var o=new sap.m.VBox;for(var l=0;l<s.length;l++){var d=s[l].getHeader().getText();if(d!=""&&d!="Edit/Delete"){var u=new sap.m.Input({width:"80%",placeholder:d});u.setRequired(true);o.addItem(u)}}this.oDialog.addContent(o);this.oDialog.open()},onAddQuestion:function(){}}});
//# sourceMappingURL=AddQuestion.js.map